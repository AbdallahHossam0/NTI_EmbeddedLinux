# BuildRoot

## System Calls
- There are 5 types of system calls
    1. file system
    2. process management
    3. memory management
    4. device management
    5. inter-process communication

- you can check the system calls using strace to any executable

### NFS => Network file system
**It is a distributed file system protocol that allows a user on a client computer to access files over a network as if they were stored locally on the client's own hard disks.**
- they used it much in Embedded Linux because there is usually only one board in the company.
- and all developers access it through network with their own file system in their host machine.
- U-Boot helps me to do that
---
---
---
---
## Customization

what is four components of Embedded Linux
1. toolchain
2. boat-loader
3. kernel
4. filesystem

Customization is used to customize these 4 components
### Why?
1. Reduce the size
2. Reduce the attacks (removing un needed features that may used by a hacker to hack the system)

### How we can build this?
- build and customize each component by
    - download the component
    - customize
    - build 
    - combine
    \
this workflow is time consuming and error prone
- using Auto build tools such as Yocto and build-root

### Yocto vs build-root

### Yocto
- Yocto is a project
- more flexible
- layered approach
- Yocto has a steep learning curve due to its complexity and the need to understand various components such as BitBake, layers, recipes, and metadata.
- configs written in many files
- use Incremental Build

### Build Root
- Simple efficient tool
- **Monolithic Approach**: Unlike Yocto, Buildroot follows a more monolithic approach, providing a single configuration file that defines all aspects of the target system.
- Limited flexibility

#### In summary, Yocto is more suitable for complex projects that require high customization and flexibility, while Buildroot is better suited for simpler projects where ease of use and a streamlined build process are priorities. The choice between the two depends on the specific requirements and constraints of the embedded Linux pro

## BuildRoot
- simple, easy tool to build a linux custom boot-able OS
- generate all you need {tool chain, boot-loader, kernel, filesystem}
- use GNU by default, you can customize the tool chain
- has +2800 pkg
- Active Community


### the output file of the build root is on output directory it has 3 subdirectories

- images: This folder contains the final images generated by Buildroot. {image, root filesystem, boot-loader}.

- target: contains the root filesystem of the target system. It includes all the files and directories that will be present on the embedded device once it's booted.

- host: Build root builds many tools and utilities for the host system (the system where Build root is running). The host directory typically contains binaries, libraries, and other files needed for cross-compilation.

### Steps to use 
1. clone it 
2. make list-defconfigs  => shows all possible boards
3. make qemu_arm_vexpress_defconfig or make qemu_arm_verastile_defconfig
4. make menuconfig => for more customization
5. make 

default user name => root

### Configure Embedded Linux Component
```bash
# Configure Linux
# to change configuration for linux 
make linux-menuconfig

#Configure uboot
# to configure uboot
make uboot-menuconfig

#Configure Busybox
# to configure busybox
make busybox-menuconfig
```

# Notes
to make qemu work on multi-core
```bash
make -jx
# replace x with the number of cores you need to use by make
```
menuconfigs uses packages/config-in as input file and convert it to be a GUI
